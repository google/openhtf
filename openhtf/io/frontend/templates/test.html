<h1>OpenHTF</h1>
{% if state == None %}
<div class="offline">
<p>Station is currently offline.</p>
{% else %}
<h2>Station {{state['framework']['station_id']}}</h2>
<hr/>
{% if state['test'] == None %}
<div class="notest">
<p>openhtf is running, but no test is currently executing.</p>
</div>

</div>
{% else %}
<div class="current_phase">
  <h3>Current Phase: {{ state['test']['running_phase']['name'] }}</h3>
<p>{{ state['test']['running_phase']['docstring'] }}</p>
<h4>Measurements</h4>
<table border=1>
{% for m in state['test']['running_phase']['measurements'] %}
  <tr>
    <td>{{ m }}</td>
    {% if m in state['test']['phase_data']['measurements'] %}
      <td>{{ state['test']['phase_data']['measurements'][m] }}</td>
    {% else %}
      <td><div class="UNSET">UNSET</div></td>
    {% end %}
    </li></ul>
    </li>
{% end %}
</table>
</div>
<hr/>
<div class="pending_phases"><h3>Pending Phases</h3>
<ul>
{% for p in state['test']['pending_phases'] %}
  <li>
  {{ p[0] }}
  </li>
{% end %}
</ul>
</div>
{% end %}
{% end %}
